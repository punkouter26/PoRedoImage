2025-08-30 17:51:35.045 -04:00 [WRN] Azure AD configuration not found or using placeholder values. Authentication disabled.
2025-08-30 17:51:37.487 -04:00 [INF] Starting application - Server hosting Blazor WebAssembly Client
2025-08-30 17:51:54.089 -04:00 [WRN] Failed to determine the https port for redirect.
2025-08-30 17:53:03.766 -04:00 [INF] Computer Vision Service initialized with endpoint: https://posharedlanguage.cognitiveservices.azure.com/, API version: 2023-10-01
2025-08-30 17:53:03.768 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-08-30 17:53:03.793 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-30 17:53:03.801 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-30 17:53:03.802 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-30 17:53:03.810 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-30 17:53:09.769 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 5958ms
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 76
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-08-30 17:53:09.827 -04:00 [ERR] Error during Computer Vision analysis
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 76
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 85
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-08-30 17:53:12.084 -04:00 [INF] Computer Vision Service initialized with endpoint: https://posharedlanguage.cognitiveservices.azure.com/, API version: 2023-10-01
2025-08-30 17:53:12.085 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-08-30 17:53:12.092 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-30 17:53:12.096 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-30 17:53:12.097 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-30 17:53:12.098 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-30 17:53:17.431 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 5333ms
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 76
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-08-30 17:53:17.462 -04:00 [ERR] Error during Computer Vision analysis
System.AggregateException: Retry failed after 4 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)) (No such host is known. (posharedlanguage.cognitiveservices.azure.com:443))
 ---> Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 76
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 85
 ---> (Inner Exception #1) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #2) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

 ---> (Inner Exception #3) Azure.RequestFailedException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Http.HttpRequestException: No such host is known. (posharedlanguage.cognitiveservices.azure.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   --- End of inner exception stack trace ---
   at Azure.Core.Pipeline.HttpClientTransport.ProcessSyncOrAsync(HttpMessage message, Boolean async)
   at Azure.Core.Pipeline.HttpPipelineTransportPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline)
   at Azure.Core.Pipeline.RequestActivityPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.ResponseBodyPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RedirectPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)
   at Azure.Core.Pipeline.RetryPolicy.ProcessAsync(HttpMessage message, ReadOnlyMemory`1 pipeline, Boolean async)<---

2025-08-30 17:53:21.695 -04:00 [INF] Computer Vision Service initialized with endpoint: https://posharedlanguage.cognitiveservices.azure.com/, API version: 2023-10-01
2025-08-30 17:53:21.696 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-08-30 17:53:21.702 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-30 17:53:21.706 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-30 17:53:21.707 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-30 17:53:21.707 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-31 15:46:31.240 -04:00 [INF] Starting web host
2025-08-31 15:46:56.871 -04:00 [WRN] Failed to determine the https port for redirect.
2025-08-31 15:47:49.497 -04:00 [INF] === DEBUG: All ComputerVision configuration values ===
2025-08-31 15:47:49.498 -04:00 [INF] ComputerVision:ApiKey = fa871dd385624141864f5dd228485d38
2025-08-31 15:47:49.500 -04:00 [INF] ComputerVision:ApiVersion = 2023-10-01
2025-08-31 15:47:49.500 -04:00 [INF] ComputerVision:Endpoint = https://eastus2.api.cognitive.microsoft.com/
2025-08-31 15:47:49.501 -04:00 [INF] ComputerVision:Key = fa871dd385624141864f5dd228485d38
2025-08-31 15:47:49.501 -04:00 [INF] === End ComputerVision configuration ===
2025-08-31 15:47:49.501 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus2.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-08-31 15:47:49.503 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-08-31 15:47:49.575 -04:00 [INF] === USER ACTION: Image Analysis Started ===
2025-08-31 15:47:49.578 -04:00 [INF] User: anonymous (anonymous)
2025-08-31 15:47:49.580 -04:00 [INF] File: WIN_20250830_11_52_02_Pro.jpg, Content Type: image/jpeg, Description Length: 350 words
2025-08-31 15:47:49.585 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-31 15:47:49.590 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-31 15:47:49.591 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-31 15:47:49.595 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-31 15:47:49.596 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Started ===
2025-08-31 15:47:49.597 -04:00 [INF] Image size: 439510 bytes
2025-08-31 15:47:50.084 -04:00 [ERR] === ERROR: Computer Vision Analysis Failed ===
Azure.RequestFailedException: The feature 'Caption' is not supported in this region.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"The feature 'Caption' is not supported in this region."}}

Headers:
request-id: a01f833b-de12-4e40-9c48-8273e7cadec4
x-ms-request-id: a01f833b-de12-4e40-9c48-8273e7cadec4
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 31 Aug 2025 19:47:49 GMT
Content-Length: 102
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 90
2025-08-31 15:47:50.129 -04:00 [INF] Processing time before error: 486ms
2025-08-31 15:47:50.131 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 486ms
Azure.RequestFailedException: The feature 'Caption' is not supported in this region.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"The feature 'Caption' is not supported in this region."}}

Headers:
request-id: a01f833b-de12-4e40-9c48-8273e7cadec4
x-ms-request-id: a01f833b-de12-4e40-9c48-8273e7cadec4
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 31 Aug 2025 19:47:49 GMT
Content-Length: 102
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 90
2025-08-31 15:47:50.152 -04:00 [ERR] Error during Computer Vision analysis
Azure.RequestFailedException: The feature 'Caption' is not supported in this region.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"The feature 'Caption' is not supported in this region."}}

Headers:
request-id: a01f833b-de12-4e40-9c48-8273e7cadec4
x-ms-request-id: a01f833b-de12-4e40-9c48-8273e7cadec4
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 31 Aug 2025 19:47:49 GMT
Content-Length: 102
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 90
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 91
2025-08-31 15:47:51.606 -04:00 [INF] === DEBUG: All ComputerVision configuration values ===
2025-08-31 15:47:51.610 -04:00 [INF] ComputerVision:ApiKey = fa871dd385624141864f5dd228485d38
2025-08-31 15:47:51.612 -04:00 [INF] ComputerVision:ApiVersion = 2023-10-01
2025-08-31 15:47:51.612 -04:00 [INF] ComputerVision:Endpoint = https://eastus2.api.cognitive.microsoft.com/
2025-08-31 15:47:51.613 -04:00 [INF] ComputerVision:Key = fa871dd385624141864f5dd228485d38
2025-08-31 15:47:51.613 -04:00 [INF] === End ComputerVision configuration ===
2025-08-31 15:47:51.613 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus2.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-08-31 15:47:51.615 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-08-31 15:47:51.634 -04:00 [INF] === USER ACTION: Image Analysis Started ===
2025-08-31 15:47:51.641 -04:00 [INF] User: anonymous (anonymous)
2025-08-31 15:47:51.642 -04:00 [INF] File: WIN_20250830_11_52_02_Pro.jpg, Content Type: image/jpeg, Description Length: 350 words
2025-08-31 15:47:51.643 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-31 15:47:51.647 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-31 15:47:51.648 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-31 15:47:51.649 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-31 15:47:51.657 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Started ===
2025-08-31 15:47:51.657 -04:00 [INF] Image size: 439510 bytes
2025-08-31 15:47:51.737 -04:00 [ERR] === ERROR: Computer Vision Analysis Failed ===
Azure.RequestFailedException: The feature 'Caption' is not supported in this region.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"The feature 'Caption' is not supported in this region."}}

Headers:
request-id: cf8ea00f-0578-4b7b-9760-5a047bc94394
x-ms-request-id: cf8ea00f-0578-4b7b-9760-5a047bc94394
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 31 Aug 2025 19:47:51 GMT
Content-Length: 102
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 90
2025-08-31 15:47:51.756 -04:00 [INF] Processing time before error: 79ms
2025-08-31 15:47:51.757 -04:00 [ERR] Error analyzing image with Azure Computer Vision after 79ms
Azure.RequestFailedException: The feature 'Caption' is not supported in this region.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"The feature 'Caption' is not supported in this region."}}

Headers:
request-id: cf8ea00f-0578-4b7b-9760-5a047bc94394
x-ms-request-id: cf8ea00f-0578-4b7b-9760-5a047bc94394
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 31 Aug 2025 19:47:51 GMT
Content-Length: 102
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 90
2025-08-31 15:47:51.762 -04:00 [ERR] Error during Computer Vision analysis
Azure.RequestFailedException: The feature 'Caption' is not supported in this region.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"The feature 'Caption' is not supported in this region."}}

Headers:
request-id: cf8ea00f-0578-4b7b-9760-5a047bc94394
x-ms-request-id: cf8ea00f-0578-4b7b-9760-5a047bc94394
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Sun, 31 Aug 2025 19:47:51 GMT
Content-Length: 102
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at Server.Services.ComputerVisionService.AnalyzeImageAsync(Byte[] imageData) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\ComputerVisionService.cs:line 90
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 91
2025-08-31 15:49:43.236 -04:00 [INF] Starting web host
2025-08-31 15:49:56.863 -04:00 [WRN] Failed to determine the https port for redirect.
2025-08-31 15:53:04.232 -04:00 [INF] Starting web host
2025-08-31 15:53:15.786 -04:00 [WRN] Failed to determine the https port for redirect.
2025-08-31 15:53:49.899 -04:00 [INF] === DEBUG: All ComputerVision configuration values ===
2025-08-31 15:53:49.901 -04:00 [INF] ComputerVision:ApiKey = f955f9bc49d340f9a8ee85c497b3a556
2025-08-31 15:53:49.903 -04:00 [INF] ComputerVision:ApiVersion = 2023-10-01
2025-08-31 15:53:49.903 -04:00 [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/
2025-08-31 15:53:49.904 -04:00 [INF] ComputerVision:Key = f955f9bc49d340f9a8ee85c497b3a556
2025-08-31 15:53:49.904 -04:00 [INF] === End ComputerVision configuration ===
2025-08-31 15:53:49.904 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-08-31 15:53:49.905 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o-mini, image model: dall-e-3, fallback model: gpt-4o-mini
2025-08-31 15:53:49.960 -04:00 [INF] === USER ACTION: Image Analysis Started ===
2025-08-31 15:53:49.962 -04:00 [INF] User: anonymous (anonymous)
2025-08-31 15:53:49.963 -04:00 [INF] File: WIN_20250830_11_52_02_Pro.jpg, Content Type: image/jpeg, Description Length: 350 words
2025-08-31 15:53:49.965 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-31 15:53:49.970 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-31 15:53:49.971 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-31 15:53:49.974 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-31 15:53:49.975 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Started ===
2025-08-31 15:53:49.977 -04:00 [INF] Image size: 439510 bytes
2025-08-31 15:53:50.748 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Completed ===
2025-08-31 15:53:50.751 -04:00 [INF] Processing time: 770ms
2025-08-31 15:53:50.759 -04:00 [INF] Confidence score: 0.94
2025-08-31 15:53:50.765 -04:00 [INF] Description: a person taking a selfie
2025-08-31 15:53:50.766 -04:00 [INF] Tags found: 10 - human face, person, man, outdoor, clothing, selfie, sky, building, window, plant
2025-08-31 15:53:50.767 -04:00 [INF] Image analysis completed in 770ms, confidence: 0.94370645
2025-08-31 15:53:50.773 -04:00 [INF] Computer Vision analysis completed. Description: 24 characters, Tags: 10
2025-08-31 15:53:50.774 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-08-31 15:53:51.081 -04:00 [INF] Enhancing description with OpenAI. Target length: 350 words
2025-08-31 15:53:51.082 -04:00 [INF] === STATE CHANGE: OpenAI Description Enhancement Started ===
2025-08-31 15:53:51.083 -04:00 [INF] Input description length: 24 characters
2025-08-31 15:53:51.084 -04:00 [INF] Target length: 350 words
2025-08-31 15:53:51.084 -04:00 [INF] Tags count: 10
2025-08-31 15:53:51.373 -04:00 [ERR] Error enhancing description with OpenAI after 288ms. Attempted models: gpt-4o-mini
System.ClientModel.ClientResultException: HTTP 404 (DeploymentNotFound)

The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 128
2025-08-31 15:53:51.445 -04:00 [ERR] Error during description enhancement
System.ClientModel.ClientResultException: HTTP 404 (DeploymentNotFound)

The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, CancellationToken cancellationToken)
   at Server.Services.OpenAIService.EnhanceDescriptionAsync(String basicDescription, List`1 tags, Int32 targetLength) in C:\Users\punko\Downloads\PoRedoImage\Server\Services\OpenAIService.cs:line 128
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\Downloads\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 112
2025-08-31 15:53:51.448 -04:00 [INF] Step 3: Generating image with DALL-E
2025-08-31 15:53:51.452 -04:00 [INF] Generating image with DALL-E based on description
2025-08-31 15:54:01.053 -04:00 [INF] Image generation completed in 9600ms, estimated tokens: 6, model: dall-e-3
2025-08-31 15:54:01.073 -04:00 [INF] Image generation completed. Size: 3163291 bytes, Tokens: 6
2025-08-31 15:54:01.091 -04:00 [INF] === USER ACTION: Image Analysis Completed ===
2025-08-31 15:54:01.092 -04:00 [INF] Total processing time: 11124ms
2025-08-31 15:54:01.093 -04:00 [INF] Description length: 24 characters
2025-08-31 15:54:01.094 -04:00 [INF] Tags found: 10
2025-08-31 15:54:01.095 -04:00 [INF] Image analysis completed in 11124ms for user anonymous
2025-08-31 15:56:03.242 -04:00 [INF] Starting web host
2025-08-31 15:59:08.770 -04:00 [INF] Starting web host
2025-08-31 15:59:28.344 -04:00 [WRN] Failed to determine the https port for redirect.
2025-08-31 15:59:41.581 -04:00 [INF] === DEBUG: All ComputerVision configuration values ===
2025-08-31 15:59:41.582 -04:00 [INF] ComputerVision:ApiKey = f955f9bc49d340f9a8ee85c497b3a556
2025-08-31 15:59:41.583 -04:00 [INF] ComputerVision:ApiVersion = 2023-10-01
2025-08-31 15:59:41.584 -04:00 [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/
2025-08-31 15:59:41.585 -04:00 [INF] ComputerVision:Key = f955f9bc49d340f9a8ee85c497b3a556
2025-08-31 15:59:41.585 -04:00 [INF] === End ComputerVision configuration ===
2025-08-31 15:59:41.586 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-08-31 15:59:41.587 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o
2025-08-31 15:59:41.587 -04:00 [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3
2025-08-31 15:59:41.617 -04:00 [INF] === USER ACTION: Image Analysis Started ===
2025-08-31 15:59:41.618 -04:00 [INF] User: anonymous (anonymous)
2025-08-31 15:59:41.619 -04:00 [INF] File: WIN_20250830_11_52_02_Pro.jpg, Content Type: image/jpeg, Description Length: 350 words
2025-08-31 15:59:41.621 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-31 15:59:41.624 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-31 15:59:41.625 -04:00 [INF] Step 1: Analyzing image with Computer Vision
2025-08-31 15:59:41.627 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-31 15:59:41.627 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Started ===
2025-08-31 15:59:41.628 -04:00 [INF] Image size: 439510 bytes
2025-08-31 15:59:42.380 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Completed ===
2025-08-31 15:59:42.381 -04:00 [INF] Processing time: 751ms
2025-08-31 15:59:42.384 -04:00 [INF] Confidence score: 0.94
2025-08-31 15:59:42.387 -04:00 [INF] Description: a person taking a selfie
2025-08-31 15:59:42.388 -04:00 [INF] Tags found: 10 - human face, person, man, outdoor, clothing, selfie, sky, building, window, plant
2025-08-31 15:59:42.389 -04:00 [INF] Image analysis completed in 751ms, confidence: 0.9437177
2025-08-31 15:59:42.394 -04:00 [INF] Computer Vision analysis completed. Description: 24 characters, Tags: 10
2025-08-31 15:59:42.395 -04:00 [INF] Step 2: Enhancing description with OpenAI
2025-08-31 15:59:42.399 -04:00 [INF] Enhancing description with OpenAI. Target length: 350 words
2025-08-31 15:59:42.400 -04:00 [INF] === STATE CHANGE: OpenAI Description Enhancement Started ===
2025-08-31 15:59:42.400 -04:00 [INF] Input description length: 24 characters
2025-08-31 15:59:42.401 -04:00 [INF] Target length: 350 words
2025-08-31 15:59:42.402 -04:00 [INF] Tags count: 10
2025-08-31 15:59:45.876 -04:00 [INF] Description enhancement completed in 3473ms, tokens used: 568
2025-08-31 15:59:45.877 -04:00 [INF] === STATE CHANGE: OpenAI Description Enhancement Completed ===
2025-08-31 15:59:45.877 -04:00 [INF] Processing time: 3473ms
2025-08-31 15:59:45.877 -04:00 [INF] Tokens used: 568
2025-08-31 15:59:45.878 -04:00 [INF] Output description length: 2303 characters
2025-08-31 15:59:45.878 -04:00 [INF] Models attempted: gpt-4o
2025-08-31 15:59:45.879 -04:00 [INF] Description enhancement completed. Length: 2303 characters, Tokens: 568
2025-08-31 15:59:45.880 -04:00 [INF] Step 3: Generating image with DALL-E
2025-08-31 15:59:45.881 -04:00 [INF] Generating image with DALL-E based on description
2025-08-31 15:59:56.243 -04:00 [INF] Image generation completed in 10361ms, estimated tokens: 575, model: dall-e-3
2025-08-31 15:59:56.251 -04:00 [INF] Image generation completed. Size: 3163292 bytes, Tokens: 575
2025-08-31 15:59:56.252 -04:00 [INF] === USER ACTION: Image Analysis Completed ===
2025-08-31 15:59:56.253 -04:00 [INF] Total processing time: 14629ms
2025-08-31 15:59:56.253 -04:00 [INF] Description length: 2303 characters
2025-08-31 15:59:56.254 -04:00 [INF] Tags found: 10
2025-08-31 15:59:56.254 -04:00 [INF] Image analysis completed in 14629ms for user anonymous
2025-08-31 16:04:13.022 -04:00 [INF] Starting web host
2025-08-31 16:04:38.429 -04:00 [WRN] Failed to determine the https port for redirect.
2025-08-31 16:04:52.849 -04:00 [INF] === DEBUG: All ComputerVision configuration values ===
2025-08-31 16:04:52.850 -04:00 [INF] ComputerVision:ApiKey = f955f9bc49d340f9a8ee85c497b3a556
2025-08-31 16:04:52.851 -04:00 [INF] ComputerVision:ApiVersion = 2023-10-01
2025-08-31 16:04:52.851 -04:00 [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/
2025-08-31 16:04:52.851 -04:00 [INF] ComputerVision:Key = f955f9bc49d340f9a8ee85c497b3a556
2025-08-31 16:04:52.852 -04:00 [INF] === End ComputerVision configuration ===
2025-08-31 16:04:52.852 -04:00 [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01
2025-08-31 16:04:52.853 -04:00 [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o
2025-08-31 16:04:52.853 -04:00 [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3
2025-08-31 16:04:52.879 -04:00 [INF] === USER ACTION: Image Analysis Started ===
2025-08-31 16:04:52.880 -04:00 [INF] User: anonymous (anonymous)
2025-08-31 16:04:52.881 -04:00 [INF] File: WIN_20250830_11_52_02_Pro.jpg, Content Type: image/jpeg, Description Length: 350 words
2025-08-31 16:04:52.884 -04:00 [INF] Image analysis request received from user anonymous (anonymous). File: WIN_20250830_11_52_02_Pro.jpg, Description Length: 350 words
2025-08-31 16:04:52.886 -04:00 [INF] Successfully converted image data: 439510 bytes
2025-08-31 16:04:52.887 -04:00 [INF] Step 1: Analyzing image with Computer Vision for tags
2025-08-31 16:04:52.889 -04:00 [INF] Starting image analysis with Azure Computer Vision
2025-08-31 16:04:52.890 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Started ===
2025-08-31 16:04:52.890 -04:00 [INF] Image size: 439510 bytes
2025-08-31 16:04:53.585 -04:00 [INF] === STATE CHANGE: Computer Vision Analysis Completed ===
2025-08-31 16:04:53.597 -04:00 [INF] Processing time: 694ms
2025-08-31 16:04:53.599 -04:00 [INF] Confidence score: 0.94
2025-08-31 16:04:53.602 -04:00 [INF] Description: a person taking a selfie
2025-08-31 16:04:53.604 -04:00 [INF] Tags found: 10 - human face, person, man, outdoor, clothing, selfie, sky, building, window, plant
2025-08-31 16:04:53.607 -04:00 [INF] Image analysis completed in 694ms, confidence: 0.9437177
2025-08-31 16:04:53.610 -04:00 [INF] Computer Vision analysis completed. Tags: 10, Confidence: 0.9437177181243896
2025-08-31 16:04:53.612 -04:00 [INF] Step 2: Generating detailed description with OpenAI
2025-08-31 16:04:53.614 -04:00 [INF] Generating detailed description with OpenAI. Target length: 350 words
2025-08-31 16:04:57.295 -04:00 [INF] === STATE CHANGE: OpenAI Detailed Description Generation Completed ===
2025-08-31 16:04:57.296 -04:00 [INF] Processing time: 3679ms
2025-08-31 16:04:57.296 -04:00 [INF] Tokens used: 615
2025-08-31 16:04:57.297 -04:00 [INF] Output description length: 2091 characters
2025-08-31 16:04:57.297 -04:00 [INF] Models attempted: gpt-4o
2025-08-31 16:04:57.299 -04:00 [INF] Detailed description generation completed. Length: 2091 characters, Tokens: 615
2025-08-31 16:04:57.300 -04:00 [INF] Step 3: Generating image with DALL-E
2025-08-31 16:04:57.302 -04:00 [INF] Generating image with DALL-E based on description
2025-08-31 16:05:07.677 -04:00 [INF] Image generation completed in 10374ms, estimated tokens: 522, model: dall-e-3
2025-08-31 16:05:07.686 -04:00 [INF] Image generation completed. Size: 3163292 bytes, Tokens: 522
2025-08-31 16:05:07.688 -04:00 [INF] === USER ACTION: Image Analysis Completed ===
2025-08-31 16:05:07.690 -04:00 [INF] Total processing time: 14802ms
2025-08-31 16:05:07.692 -04:00 [INF] Description length: 2091 characters
2025-08-31 16:05:07.693 -04:00 [INF] Tags found: 10
2025-08-31 16:05:07.694 -04:00 [INF] Image analysis completed in 14802ms for user anonymous
