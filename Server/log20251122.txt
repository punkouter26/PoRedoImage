[2025-11-22 10:03:14.479 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:04:09.527 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9R1HQ6TJO:00000001","RequestPath":"/","ConnectionId":"0HNH9R1HQ6TJO","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:04:15.241 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"49bb0d82-e340-4204-b761-62c83175bc7f","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R1HQ6TJT:00000026","RequestPath":"/api/log/client","ConnectionId":"0HNH9R1HQ6TJT","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:04:15.1610000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:04:21.766 -05:00] [INF] Health check requested {"SourceContext":"Server.Controllers.HealthController","ActionId":"364d6f24-299e-4e65-9e8d-5035f364d179","ActionName":"Server.Controllers.HealthController.Get (Server)","RequestId":"0HNH9R1HQ6TJU:00000001","RequestPath":"/api/health","ConnectionId":"0HNH9R1HQ6TJU","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:04:21.883 -05:00] [INF] Health check requested {"SourceContext":"Server.Controllers.HealthController","ActionId":"364d6f24-299e-4e65-9e8d-5035f364d179","ActionName":"Server.Controllers.HealthController.Get (Server)","RequestId":"0HNH9R1HQ6TJU:00000002","RequestPath":"/api/health","ConnectionId":"0HNH9R1HQ6TJU","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:04:25.155 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 4 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"49bb0d82-e340-4204-b761-62c83175bc7f","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R1HQ6TJU:00000003","RequestPath":"/api/log/client","ConnectionId":"0HNH9R1HQ6TJU","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:04:25.1520000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/diag","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:07:19.866 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:09:10.186 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9R4BDMUSI:00000001","RequestPath":"/","ConnectionId":"0HNH9R4BDMUSI","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:09:15.415 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"c391df2a-1337-48ac-ba78-47f7f86b43a7","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R4BDMUSO:00000003","RequestPath":"/api/log/client","ConnectionId":"0HNH9R4BDMUSO","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:09:15.3270000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:13:38.764 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:13:59.157 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9R71HI6PR:00000001","RequestPath":"/","ConnectionId":"0HNH9R71HI6PR","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:14:04.795 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6PT:0000002E","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6PT","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:14:04.7250000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:20:20.419 -05:00] [INF] Health check requested {"SourceContext":"Server.Controllers.HealthController","ActionId":"967c872d-4839-4234-8b1e-3d4d1ed21877","ActionName":"Server.Controllers.HealthController.Get (Server)","RequestId":"0HNH9R71HI6Q3:00000028","RequestPath":"/api/health","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:20:20.499 -05:00] [INF] Health check requested {"SourceContext":"Server.Controllers.HealthController","ActionId":"967c872d-4839-4234-8b1e-3d4d1ed21877","ActionName":"Server.Controllers.HealthController.Get (Server)","RequestId":"0HNH9R71HI6Q3:00000029","RequestPath":"/api/health","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:20:20.892 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 420 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q3:0000002A","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:20:20.8840000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/diag","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:20.882 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q3:0000002B","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:21:20.8790000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:27.868 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q5:00000025","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q5","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:21:27.8630000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:27.980 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:27.985 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:27.989 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:27.993 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:27.998 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.008 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.012 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.015 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.026 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.030 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.038 -05:00] [INF] File: BODY_Grandpa.jpg, Content Type: image/jpeg, Description Length: 350 words {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.046 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Grandpa.jpg, Description Length: 350 words {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.068 -05:00] [INF] Successfully converted image data: 3840085 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.076 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.084 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.090 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:28.094 -05:00] [INF] Image size: 3840085 bytes {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.122 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.127 -05:00] [INF] Processing time: 3023ms {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.134 -05:00] [INF] Confidence score: 0.71 {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.143 -05:00] [INF] Description: an old person standing outside with his arms out {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.148 -05:00] [INF] Tags found: 15 - outdoor, clothing, person, sky, houseplant, flowerpot, ground, footwear, man, trousers, house, plant, standing, tree, pot {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.158 -05:00] [INF] Image analysis completed in 3023ms, confidence: 0.71063083 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.164 -05:00] [INF] Computer Vision analysis completed. Tags: 15, Confidence: 0.7106308341026306 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.170 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:31.464 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.120 -05:00] [INF] === STATE CHANGE: OpenAI Detailed Description Generation Completed === {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.126 -05:00] [INF] Processing time: 4648ms {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.132 -05:00] [INF] Tokens used: 641 {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.139 -05:00] [INF] Output description length: 2175 characters {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.145 -05:00] [INF] Models attempted: gpt-4o {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.154 -05:00] [INF] Detailed description generation completed. Length: 2175 characters, Tokens: 641 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.158 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:36.164 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:46.916 -05:00] [INF] Image generation completed in 10746ms, estimated tokens: 543, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:47.081 -05:00] [INF] Image generation completed. Size: 3163292 bytes, Tokens: 543 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:47.095 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:47.098 -05:00] [INF] Total processing time: 19041ms {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:47.106 -05:00] [INF] Description length: 2175 characters {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:47.111 -05:00] [INF] Tags found: 15 {"ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:47.123 -05:00] [INF] Image analysis completed in 19041ms for user anonymous {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"5ca85daf-d4f6-4007-90ec-fae90ad48357","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9R71HI6Q3:0000002C","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9R71HI6Q3","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:21:50.874 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q3:0000002D","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:21:50.8710000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:22:35.877 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q3:0000002E","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:22:35.8740000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:23:00.925 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q3:0000002F","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:23:00.9220000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:23:14.231 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"50424631-8592-4c47-8b31-b55ff630ce32","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9R71HI6Q3:00000030","RequestPath":"/api/log/client","ConnectionId":"0HNH9R71HI6Q3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T15:23:14.2240000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 10:43:02.950 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:00:07.903 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:11.464 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9S1VGM8HD:00000001","RequestPath":"/","ConnectionId":"0HNH9S1VGM8HD","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:16.705 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"64e49117-758e-4f07-944e-9270956ad265","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S1VGM8HG:00000026","RequestPath":"/api/log/client","ConnectionId":"0HNH9S1VGM8HG","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:02:16.6070000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:22.886 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"64e49117-758e-4f07-944e-9270956ad265","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S1VGM8HG:00000027","RequestPath":"/api/log/client","ConnectionId":"0HNH9S1VGM8HG","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:02:22.8770000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.594 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.600 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.605 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.611 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"64e49117-758e-4f07-944e-9270956ad265","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S1VGM8HF:00000026","RequestPath":"/api/log/client","ConnectionId":"0HNH9S1VGM8HF","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:02:31.6080000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.612 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.629 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.637 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.645 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.852 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.925 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.932 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.939 -05:00] [INF] File: BODY_Matt2.JPG, Content Type: image/jpeg, Description Length: 350 words, Mode: "ImageRegeneration" {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.948 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Matt2.JPG, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.988 -05:00] [INF] Successfully converted image data: 4333677 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:31.996 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:32.004 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:32.011 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:32.016 -05:00] [INF] Image size: 4333677 bytes {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:34.998 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.003 -05:00] [INF] Processing time: 2977ms {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.007 -05:00] [INF] Confidence score: 0.78 {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.015 -05:00] [INF] Description: a person standing in a room with his arms out {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.021 -05:00] [INF] Tags found: 14 - clothing, person, indoor, wall, home appliance, cabinetry, man, door, footwear, flooring, trousers, floor, standing, kitchen {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.025 -05:00] [INF] Image analysis completed in 2977ms, confidence: 0.77701795 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.036 -05:00] [INF] Computer Vision analysis completed. Tags: 14, Confidence: 0.7770179510116577 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.040 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.048 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.063 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.570 -05:00] [ERR] Error generating detailed description with OpenAI after 500ms. Attempted models: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 278
[2025-11-22 11:02:35.596 -05:00] [ERR] Error during detailed description generation {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 278
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\My Drive\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 306
[2025-11-22 11:02:35.603 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:35.610 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.405 -05:00] [INF] Image generation completed in 9788ms, estimated tokens: 35, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.430 -05:00] [INF] Image generation completed. Size: 3163292 bytes, Tokens: 35 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.435 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.437 -05:00] [INF] Total processing time: 13479ms {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.441 -05:00] [INF] Mode: "ImageRegeneration" {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.448 -05:00] [INF] Description length: 140 characters {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.452 -05:00] [INF] Tags found: 14 {"ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:45.455 -05:00] [INF] Image analysis completed in 13479ms for user anonymous (Mode: "ImageRegeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"db36db7a-70df-44bc-8722-120f74bcfc24","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S1VGM8HG:00000028","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S1VGM8HG","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:46.739 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"64e49117-758e-4f07-944e-9270956ad265","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S1VGM8HG:00000029","RequestPath":"/api/log/client","ConnectionId":"0HNH9S1VGM8HG","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:02:46.7360000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:02:56.737 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"64e49117-758e-4f07-944e-9270956ad265","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S1VGM8HG:0000002A","RequestPath":"/api/log/client","ConnectionId":"0HNH9S1VGM8HG","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:02:56.7330000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:09:44.061 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:06.674 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9S6D4O9IF:00000001","RequestPath":"/","ConnectionId":"0HNH9S6D4O9IF","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:11.895 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"37b85c47-cb18-49f3-a957-625bf1a571e1","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S6D4O9IJ:00000022","RequestPath":"/api/log/client","ConnectionId":"0HNH9S6D4O9IJ","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:10:11.8040000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:18.374 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"37b85c47-cb18-49f3-a957-625bf1a571e1","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S6D4O9IJ:00000023","RequestPath":"/api/log/client","ConnectionId":"0HNH9S6D4O9IJ","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:10:18.3690000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.150 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"37b85c47-cb18-49f3-a957-625bf1a571e1","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S6D4O9IG:00000028","RequestPath":"/api/log/client","ConnectionId":"0HNH9S6D4O9IG","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:10:28.1460000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.291 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.297 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.302 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.306 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.310 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.316 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.320 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.326 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.332 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.338 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.343 -05:00] [INF] File: BODY_Grandma.jpg, Content Type: image/jpeg, Description Length: 350 words, Mode: "ImageRegeneration" {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.350 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Grandma.jpg, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.400 -05:00] [INF] Successfully converted image data: 3872460 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.408 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.416 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.421 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:28.425 -05:00] [INF] Image size: 3872460 bytes {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.012 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.027 -05:00] [INF] Processing time: 2583ms {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.033 -05:00] [INF] Confidence score: 0.71 {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.040 -05:00] [INF] Description: a person standing in a courtyard with her arms out {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.044 -05:00] [INF] Tags found: 14 - clothing, outdoor, person, footwear, sky, tree, houseplant, smile, flowerpot, house, ground, woman, plant, girl {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.049 -05:00] [INF] Image analysis completed in 2583ms, confidence: 0.7077727 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.061 -05:00] [INF] Computer Vision analysis completed. Tags: 14, Confidence: 0.7077726721763611 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.066 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.071 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.080 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.631 -05:00] [ERR] Error generating detailed description with OpenAI after 544ms. Attempted models: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
[2025-11-22 11:10:31.652 -05:00] [ERR] Error during detailed description generation {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\My Drive\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 306
[2025-11-22 11:10:31.661 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:31.666 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.615 -05:00] [INF] Image generation completed in 9944ms, estimated tokens: 31, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.627 -05:00] [INF] Image generation completed. Size: 3163292 bytes, Tokens: 31 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.632 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.636 -05:00] [INF] Total processing time: 13275ms {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.641 -05:00] [INF] Mode: "ImageRegeneration" {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.648 -05:00] [INF] Description length: 127 characters {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.651 -05:00] [INF] Tags found: 14 {"ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:41.656 -05:00] [INF] Image analysis completed in 13275ms for user anonymous (Mode: "ImageRegeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"cc94d912-cac1-4e06-bd69-fab05d885919","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S6D4O9IJ:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S6D4O9IJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:10:42.733 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"37b85c47-cb18-49f3-a957-625bf1a571e1","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S6D4O9IJ:00000025","RequestPath":"/api/log/client","ConnectionId":"0HNH9S6D4O9IJ","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:10:42.7260000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:11:13.515 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"37b85c47-cb18-49f3-a957-625bf1a571e1","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S6D4O9IJ:00000026","RequestPath":"/api/log/client","ConnectionId":"0HNH9S6D4O9IJ","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:11:13.5110000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:12:47.107 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:14:58.482 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:16.689 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9S99GS3Q9:00000001","RequestPath":"/","ConnectionId":"0HNH9S99GS3Q9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:21.937 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"b8714dda-7ad5-4940-84f3-2de0670490d6","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S99GS3QC:00000023","RequestPath":"/api/log/client","ConnectionId":"0HNH9S99GS3QC","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:15:21.8590000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:26.853 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"b8714dda-7ad5-4940-84f3-2de0670490d6","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S99GS3QC:00000024","RequestPath":"/api/log/client","ConnectionId":"0HNH9S99GS3QC","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:15:26.8460000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.757 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"b8714dda-7ad5-4940-84f3-2de0670490d6","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S99GS3QD:00000027","RequestPath":"/api/log/client","ConnectionId":"0HNH9S99GS3QD","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:15:32.7540000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.897 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.902 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.910 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.915 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.920 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.926 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.931 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.936 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.945 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.949 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.954 -05:00] [INF] File: BODY_Grandpa.jpg, Content Type: image/jpeg, Description Length: 350 words, Mode: "ImageRegeneration" {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.961 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Grandpa.jpg, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.989 -05:00] [INF] Successfully converted image data: 3840085 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:32.994 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:33.001 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:33.008 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:33.014 -05:00] [INF] Image size: 3840085 bytes {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.698 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.703 -05:00] [INF] Processing time: 2680ms {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.709 -05:00] [INF] Confidence score: 0.71 {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.713 -05:00] [INF] Description: an old person standing outside with his arms out {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.719 -05:00] [INF] Tags found: 15 - outdoor, clothing, person, sky, houseplant, flowerpot, ground, footwear, man, trousers, house, plant, standing, tree, pot {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.725 -05:00] [INF] Image analysis completed in 2680ms, confidence: 0.71063083 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.735 -05:00] [INF] Computer Vision analysis completed. Tags: 15, Confidence: 0.7106308341026306 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.744 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.750 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:35.765 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:36.314 -05:00] [ERR] Error generating detailed description with OpenAI after 541ms. Attempted models: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
[2025-11-22 11:15:36.334 -05:00] [ERR] Error during detailed description generation {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\My Drive\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 306
[2025-11-22 11:15:36.341 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:36.349 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.943 -05:00] [INF] Image generation completed in 9591ms, estimated tokens: 34, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.959 -05:00] [INF] Image generation completed. Size: 3163291 bytes, Tokens: 34 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.967 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.971 -05:00] [INF] Total processing time: 13001ms {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.976 -05:00] [INF] Mode: "ImageRegeneration" {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.980 -05:00] [INF] Description length: 137 characters {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.985 -05:00] [INF] Tags found: 15 {"ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:45.991 -05:00] [INF] Image analysis completed in 13001ms for user anonymous (Mode: "ImageRegeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"56e06ea0-5399-4cb5-abeb-561d2fbb2265","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9S99GS3QC:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9S99GS3QC","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:15:48.809 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"b8714dda-7ad5-4940-84f3-2de0670490d6","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9S99GS3QC:00000026","RequestPath":"/api/log/client","ConnectionId":"0HNH9S99GS3QC","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:15:48.7980000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:17:12.780 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:17:14.062 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9SACGHLPJ:00000001","RequestPath":"/api/log/client","ConnectionId":"0HNH9SACGHLPJ","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:17:14.179 -05:00] [INF] [CLIENT] Debug log flush: 7 console logs, 444 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"4072b00a-4e24-4c98-8ac4-259a68a27f3e","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9SACGHLPJ:00000001","RequestPath":"/api/log/client","ConnectionId":"0HNH9SACGHLPJ","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T16:17:13.9850000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:45:38.084 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:45:38.443 -05:00] [ERR] Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-11-22 11:45:46.956 -05:00] [FTL] Application terminated unexpectedly {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in C:\Users\punko\My Drive\PoRedoImage\Server\Program.cs:line 147
[2025-11-22 11:46:33.102 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 11:46:52.360 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:14:58.003 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:15:11.859 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9TAOVFTT1:00000001","RequestPath":"/","ConnectionId":"0HNH9TAOVFTT1","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:15:17.687 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"5149a8e5-e8cf-422c-af98-6e8fa0846042","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TAOVFTT6:0000002B","RequestPath":"/api/log/client","ConnectionId":"0HNH9TAOVFTT6","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:15:17.6140000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:16:03.326 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"5149a8e5-e8cf-422c-af98-6e8fa0846042","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TAOVFTT6:0000002C","RequestPath":"/api/log/client","ConnectionId":"0HNH9TAOVFTT6","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:16:03.3200000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.683 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"5149a8e5-e8cf-422c-af98-6e8fa0846042","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TAOVFTT3:0000002B","RequestPath":"/api/log/client","ConnectionId":"0HNH9TAOVFTT3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:17:03.6770000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.803 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.808 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.813 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.822 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.827 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.835 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.839 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.843 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.851 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.855 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.858 -05:00] [INF] File: BODY_Grandma.jpg, Content Type: image/jpeg, Description Length: 350 words, Mode: "ImageRegeneration" {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.863 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Grandma.jpg, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.891 -05:00] [INF] Successfully converted image data: 3872460 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.896 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.909 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.913 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:03.918 -05:00] [INF] Image size: 3872460 bytes {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.409 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.413 -05:00] [INF] Processing time: 2486ms {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.419 -05:00] [INF] Confidence score: 0.71 {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.425 -05:00] [INF] Description: a person standing in a courtyard with her arms out {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.429 -05:00] [INF] Tags found: 14 - clothing, outdoor, person, footwear, sky, tree, houseplant, smile, flowerpot, house, ground, woman, plant, girl {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.438 -05:00] [INF] Image analysis completed in 2486ms, confidence: 0.7077727 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.445 -05:00] [INF] Computer Vision analysis completed. Tags: 14, Confidence: 0.7077726721763611 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.454 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.458 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:06.733 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:07.253 -05:00] [ERR] Error generating detailed description with OpenAI after 494ms. Attempted models: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
[2025-11-22 12:17:07.272 -05:00] [ERR] Error during detailed description generation {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\My Drive\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 306
[2025-11-22 12:17:07.278 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:07.286 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.623 -05:00] [INF] Image generation completed in 11323ms, estimated tokens: 31, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.634 -05:00] [INF] Image generation completed. Size: 3163291 bytes, Tokens: 31 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.638 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.642 -05:00] [INF] Total processing time: 14770ms {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.647 -05:00] [INF] Mode: "ImageRegeneration" {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.651 -05:00] [INF] Description length: 127 characters {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.654 -05:00] [INF] Tags found: 14 {"ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:18.660 -05:00] [INF] Image analysis completed in 14770ms for user anonymous (Mode: "ImageRegeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b4a9a475-b7eb-4875-baf3-72ce2fe42702","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TAOVFTT6:0000002D","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TAOVFTT6","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:17:22.012 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"5149a8e5-e8cf-422c-af98-6e8fa0846042","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TAOVFTT6:0000002E","RequestPath":"/api/log/client","ConnectionId":"0HNH9TAOVFTT6","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:17:22.0020000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:43:51.718 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:44:51.833 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9TRBEBDJ8:00000001","RequestPath":"/","ConnectionId":"0HNH9TRBEBDJ8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:44:57.164 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 416 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"889b89b8-45ff-4b11-bfc2-10e9544e5b3d","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TRBEBDJ9:00000022","RequestPath":"/api/log/client","ConnectionId":"0HNH9TRBEBDJ9","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:44:57.0800000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:12.099 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"889b89b8-45ff-4b11-bfc2-10e9544e5b3d","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TRBEBDJ9:00000023","RequestPath":"/api/log/client","ConnectionId":"0HNH9TRBEBDJ9","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:45:12.0750000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:15.983 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:15.996 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.000 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.007 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.013 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.018 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.025 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.029 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.037 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.041 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.047 -05:00] [INF] File: BODY_Matt2.JPG, Content Type: image/jpeg, Description Length: 310 words, Mode: "ImageRegeneration" {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.055 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Matt2.JPG, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.094 -05:00] [INF] Successfully converted image data: 4333677 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.100 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.108 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.113 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:16.118 -05:00] [INF] Image size: 4333677 bytes {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:17.097 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"889b89b8-45ff-4b11-bfc2-10e9544e5b3d","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TRBEBDJC:00000023","RequestPath":"/api/log/client","ConnectionId":"0HNH9TRBEBDJC","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:45:17.0880000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.113 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.120 -05:00] [INF] Processing time: 2987ms {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.128 -05:00] [INF] Confidence score: 0.78 {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.133 -05:00] [INF] Description: a person standing in a room with his arms out {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.140 -05:00] [INF] Tags found: 14 - clothing, person, indoor, wall, home appliance, cabinetry, man, door, footwear, flooring, trousers, floor, standing, kitchen {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.149 -05:00] [INF] Image analysis completed in 2987ms, confidence: 0.77682066 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.156 -05:00] [INF] Computer Vision analysis completed. Tags: 14, Confidence: 0.7768206596374512 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.163 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.167 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.178 -05:00] [INF] Generating detailed description with OpenAI. Target length: 310 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:19.684 -05:00] [ERR] Error generating detailed description with OpenAI after 499ms. Attempted models: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
[2025-11-22 12:45:19.713 -05:00] [ERR] Error during detailed description generation {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000024","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\My Drive\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 337
[2025-11-22 12:45:23.817 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 2 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"889b89b8-45ff-4b11-bfc2-10e9544e5b3d","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TRBEBDJC:00000024","RequestPath":"/api/log/client","ConnectionId":"0HNH9TRBEBDJC","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:45:23.8080000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.913 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.920 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.925 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.930 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.936 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.941 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.945 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.948 -05:00] [INF] Using endpoints - Chat: https://swedencentral.api.cognitive.microsoft.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.957 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.959 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.960 -05:00] [INF] File: BODY_Matt2.JPG, Content Type: image/jpeg, Description Length: 310 words, Mode: "ImageRegeneration" {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.963 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Matt2.JPG, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.983 -05:00] [INF] Successfully converted image data: 4333677 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.989 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.993 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.995 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:23.998 -05:00] [INF] Image size: 4333677 bytes {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.683 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.691 -05:00] [INF] Processing time: 2679ms {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.697 -05:00] [INF] Confidence score: 0.78 {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.702 -05:00] [INF] Description: a person standing in a room with his arms out {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.706 -05:00] [INF] Tags found: 14 - clothing, person, indoor, wall, home appliance, cabinetry, man, door, footwear, flooring, trousers, floor, standing, kitchen {"ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.712 -05:00] [INF] Image analysis completed in 2679ms, confidence: 0.77701795 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.720 -05:00] [INF] Computer Vision analysis completed. Tags: 14, Confidence: 0.7770179510116577 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.800 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.828 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.831 -05:00] [INF] Generating detailed description with OpenAI. Target length: 310 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 12:45:26.967 -05:00] [ERR] Error generating detailed description with OpenAI after 129ms. Attempted models: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
[2025-11-22 12:45:26.980 -05:00] [ERR] Error during detailed description generation {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"6b230936-9c39-4c67-9719-6b246583b047","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9TRBEBDJ9:00000025","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9TRBEBDJ9","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
System.ClientModel.ClientResultException: HTTP 401 (401)

Access denied due to invalid subscription key or wrong API endpoint. Make sure to provide a valid key for an active subscription and use a correct regional API endpoint for your resource.
   at Azure.AI.OpenAI.ClientPipelineExtensions.ProcessMessageAsync(ClientPipeline pipeline, PipelineMessage message, RequestOptions options)
   at Azure.AI.OpenAI.Chat.AzureChatClient.CompleteChatAsync(BinaryContent content, RequestOptions options)
   at OpenAI.Chat.ChatClient.CompleteChatAsync(IEnumerable`1 messages, ChatCompletionOptions options, RequestOptions requestOptions)
   at Server.Services.OpenAIService.GenerateDetailedDescriptionAsync(List`1 tags, Int32 targetLength, Double confidenceScore) in C:\Users\punko\My Drive\PoRedoImage\Server\Services\OpenAIService.cs:line 292
   at Server.Controllers.ImageAnalysisController.AnalyzeImage(ImageAnalysisRequest request) in C:\Users\punko\My Drive\PoRedoImage\Server\Controllers\ImageAnalysisController.cs:line 337
[2025-11-22 12:45:27.143 -05:00] [INF] [CLIENT] Debug log flush: 4 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"889b89b8-45ff-4b11-bfc2-10e9544e5b3d","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9TRBEBDJ9:00000026","RequestPath":"/api/log/client","ConnectionId":"0HNH9TRBEBDJ9","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T17:45:27.1400000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:02:55.370 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:03:58.247 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9U613OVCT:00000001","RequestPath":"/","ConnectionId":"0HNH9U613OVCT","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:03.397 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 418 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"abd7a4fa-bce7-41d2-8bbe-6756459dc8b7","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVCV:00000028","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVCV","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:04:03.3390000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:08.353 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"abd7a4fa-bce7-41d2-8bbe-6756459dc8b7","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVCV:00000029","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVCV","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:04:08.3470000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.780 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"abd7a4fa-bce7-41d2-8bbe-6756459dc8b7","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVD2:00000020","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVD2","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:04:13.7730000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.918 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.919 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.919 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.919 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.919 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.920 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.920 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.921 -05:00] [INF] Using endpoints - Chat: https://posharedopenai.openai.azure.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.922 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.925 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.926 -05:00] [INF] File: BODY_Grandma.jpg, Content Type: image/jpeg, Description Length: 350 words, Mode: "ImageRegeneration" {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.927 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: BODY_Grandma.jpg, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.955 -05:00] [INF] Successfully converted image data: 3872460 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.958 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.960 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.961 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:13.961 -05:00] [INF] Image size: 3872460 bytes {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.651 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.652 -05:00] [INF] Processing time: 2689ms {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.653 -05:00] [INF] Confidence score: 0.71 {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.654 -05:00] [INF] Description: a person standing in a courtyard with her arms out {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.654 -05:00] [INF] Tags found: 14 - clothing, outdoor, person, footwear, sky, tree, houseplant, smile, flowerpot, house, ground, woman, plant, girl {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.654 -05:00] [INF] Image analysis completed in 2689ms, confidence: 0.7077727 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.656 -05:00] [INF] Computer Vision analysis completed. Tags: 14, Confidence: 0.7077726721763611 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.656 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.656 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:16.665 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.549 -05:00] [INF] === STATE CHANGE: OpenAI Detailed Description Generation Completed === {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.549 -05:00] [INF] Processing time: 5883ms {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.549 -05:00] [INF] Tokens used: 785 {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.549 -05:00] [INF] Output description length: 2113 characters {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.549 -05:00] [INF] Models attempted: gpt-4o {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.550 -05:00] [INF] Detailed description generation completed. Length: 2113 characters, Tokens: 785 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.551 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:22.552 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.827 -05:00] [INF] Image generation completed in 10275ms, estimated tokens: 528, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.830 -05:00] [INF] Image generation completed. Size: 3163292 bytes, Tokens: 528 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.831 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.831 -05:00] [INF] Total processing time: 18901ms {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.831 -05:00] [INF] Mode: "ImageRegeneration" {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.832 -05:00] [INF] Description length: 2113 characters {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.832 -05:00] [INF] Tags found: 14 {"ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:32.832 -05:00] [INF] Image analysis completed in 18901ms for user anonymous (Mode: "ImageRegeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"d35771ea-8e7a-4949-8965-bd88166b1a11","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9U613OVCV:0000002A","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9U613OVCV","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:33.744 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"abd7a4fa-bce7-41d2-8bbe-6756459dc8b7","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVCV:0000002B","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVCV","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:04:33.7380000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:04:53.340 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"abd7a4fa-bce7-41d2-8bbe-6756459dc8b7","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVCV:0000002C","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVCV","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:04:53.3370000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:07:50.753 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 4 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"615eef1c-7ae3-42e7-862d-c51da705c367","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVD3:00000003","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVD3","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:07:50.7280000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:18:50.754 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 2 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"b35e43f8-76f3-405f-8b97-c099f7170eea","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9U613OVD4:00000002","RequestPath":"/api/log/client","ConnectionId":"0HNH9U613OVD4","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:18:50.7330000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:25:19.731 -05:00] [INF] Starting web host {"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:25:50.817 -05:00] [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH9UI899QS7:00000001","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QS7","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:25:50.867 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 2 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QS7:00000001","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QS7","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:25:50.7330000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:03.853 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 418 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QS8:00000030","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QS8","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:27:03.7340000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:18.031 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 0 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QS8:00000031","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QS8","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:27:18.0200000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.181 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.181 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.181 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.182 -05:00] [INF] ComputerVision:MinTagConfidence = 0.6 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.182 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.197 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01, MinTagConfidence: 0.6 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.202 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.203 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.203 -05:00] [INF] Using endpoints - Chat: https://posharedopenai.openai.azure.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.207 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.208 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.209 -05:00] [INF] File: FACE_Alan.png, Content Type: image/png, Description Length: 350 words, Mode: "ImageRegeneration" {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.209 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: FACE_Alan.png, Mode: "ImageRegeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.213 -05:00] [INF] Successfully converted image data: 332529 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.214 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.217 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.218 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.219 -05:00] [INF] Image size: 332529 bytes {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.686 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.693 -05:00] [INF] Processing time: 467ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.694 -05:00] [INF] Confidence score: 0.86 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.694 -05:00] [INF] Description: a person in a suit and tie {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.694 -05:00] [INF] Tags found: 26 - person, human face, clothing, tie, necktie, collar, shirt, formal wear, dress shirt, blazer, man, suit, businessperson, gentleman, white-collar worker, chin, outerwear, forehead, smile, eyebrow, wearing, coat, button, indoor, business, headshot {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.695 -05:00] [INF] Image analysis completed in 467ms, confidence: 0.8612112 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.697 -05:00] [INF] Computer Vision analysis completed. Tags: 26, Confidence: 0.8612111806869507 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.698 -05:00] [INF] Processing in IMAGE REGENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.698 -05:00] [INF] Step 2: Generating detailed description with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:19.706 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:23.039 -05:00] [INF] [CLIENT] Debug log flush: 1 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QSB:0000002B","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QSB","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:27:23.0320000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.651 -05:00] [INF] === STATE CHANGE: OpenAI Detailed Description Generation Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.651 -05:00] [INF] Processing time: 6944ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.652 -05:00] [INF] Tokens used: 822 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.652 -05:00] [INF] Output description length: 2268 characters {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.652 -05:00] [INF] Models attempted: gpt-4o {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.654 -05:00] [INF] Detailed description generation completed. Length: 2268 characters, Tokens: 822 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.654 -05:00] [INF] Step 3: Generating image with DALL-E {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:26.656 -05:00] [INF] Generating image with DALL-E based on description {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.708 -05:00] [INF] Image generation completed in 10051ms, estimated tokens: 567, model: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.716 -05:00] [INF] Image generation completed. Size: 3163292 bytes, Tokens: 567 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.716 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.716 -05:00] [INF] Total processing time: 17506ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.717 -05:00] [INF] Mode: "ImageRegeneration" {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.717 -05:00] [INF] Description length: 2268 characters {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.717 -05:00] [INF] Tags found: 26 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:36.717 -05:00] [INF] Image analysis completed in 17506ms for user anonymous (Mode: "ImageRegeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QS8:00000032","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QS8","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:27:38.919 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QS8:00000033","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QS8","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:27:38.9160000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:32.516 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 418 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QSH:00000034","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QSH","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:31:32.5020000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.356 -05:00] [INF] === DEBUG: All ComputerVision configuration values === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.356 -05:00] [INF] ComputerVision:ApiKey = f85a22bbd0c94433a175895cffbdc934 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.356 -05:00] [INF] ComputerVision:Endpoint = https://eastus.api.cognitive.microsoft.com/ {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.356 -05:00] [INF] ComputerVision:MinTagConfidence = 0.6 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.356 -05:00] [INF] === End ComputerVision configuration === {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.356 -05:00] [INF] Computer Vision Service initialized with endpoint: https://eastus.api.cognitive.microsoft.com/, API version: 2023-10-01, MinTagConfidence: 0.6 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.357 -05:00] [INF] OpenAI Service initialized with chat model: gpt-4o, image model: dall-e-3, fallback model: gpt-4o {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.357 -05:00] [INF] Using deployments - Chat: gpt-4o, Image: dall-e-3 {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.357 -05:00] [INF] Using endpoints - Chat: https://posharedopenai.openai.azure.com/, Image: https://posharedopenai.openai.azure.com/ {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.357 -05:00] [INF] === USER ACTION: Image Analysis Started === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.357 -05:00] [INF] User: anonymous (anonymous) {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.358 -05:00] [INF] File: FACE_Alan.png, Content Type: image/png, Description Length: 350 words, Mode: "MemeGeneration" {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.358 -05:00] [INF] Image analysis request received from user anonymous (anonymous). File: FACE_Alan.png, Mode: "MemeGeneration" {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.360 -05:00] [INF] Successfully converted image data: 332529 bytes {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.360 -05:00] [INF] Step 1: Analyzing image with Computer Vision for tags {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.360 -05:00] [INF] Starting image analysis with Azure Computer Vision {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.360 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Started === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.360 -05:00] [INF] Image size: 332529 bytes {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.498 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QSE:00000031","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QSE","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:31:42.4940000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.731 -05:00] [INF] === STATE CHANGE: Computer Vision Analysis Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.731 -05:00] [INF] Processing time: 370ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.731 -05:00] [INF] Confidence score: 0.86 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.732 -05:00] [INF] Description: a person in a suit and tie {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.732 -05:00] [INF] Tags found: 26 - person, human face, clothing, tie, necktie, collar, shirt, formal wear, dress shirt, blazer, man, suit, businessperson, gentleman, white-collar worker, chin, outerwear, forehead, smile, eyebrow, wearing, coat, button, indoor, business, headshot {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.732 -05:00] [INF] Image analysis completed in 370ms, confidence: 0.8609332 {"SourceContext":"Server.Services.ComputerVisionService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.732 -05:00] [INF] Computer Vision analysis completed. Tags: 26, Confidence: 0.8609331846237183 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.733 -05:00] [INF] Processing in MEME GENERATION mode {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.733 -05:00] [INF] Step 2 (Meme): Generating funny meme caption with OpenAI {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.735 -05:00] [INF] Generating meme caption based on 26 tags {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.735 -05:00] [INF] === STATE CHANGE: OpenAI Meme Caption Generation Started === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.736 -05:00] [INF] Tags count: 26 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:42.739 -05:00] [INF] Confidence: 0.8609331846237183 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.448 -05:00] [INF] === STATE CHANGE: OpenAI Meme Caption Generation Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.449 -05:00] [INF] Processing time: 709ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.449 -05:00] [INF] Tokens used: 307 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.449 -05:00] [INF] Top text: WHEN YOU REALIZE IT'S MONDAY {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.449 -05:00] [INF] Bottom text: BUT YOUR SUIT SAYS FRIDAY {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.449 -05:00] [INF] Meme caption generation completed. Top: 'WHEN YOU REALIZE IT'S MONDAY', Bottom: 'BUT YOUR SUIT SAYS FRIDAY', Tokens: 307 {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.449 -05:00] [INF] Step 3 (Meme): Overlaying caption on image {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.852 -05:00] [INF] Adding meme caption. Top: 'WHEN YOU REALIZE IT'S MONDAY', Bottom: 'BUT YOUR SUIT SAYS FRIDAY' {"SourceContext":"Server.Services.MemeGeneratorService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.927 -05:00] [INF] Meme generation completed. Output size: 386415 bytes {"SourceContext":"Server.Services.MemeGeneratorService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.929 -05:00] [INF] Meme overlay completed. Size: 386415 bytes, Time: 478ms {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:43.929 -05:00] [INF] Generating detailed description with OpenAI. Target length: 350 words {"SourceContext":"Server.Services.OpenAIService","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.509 -05:00] [INF] === STATE CHANGE: OpenAI Detailed Description Generation Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Processing time: 6580ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Tokens used: 834 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Output description length: 2222 characters {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Models attempted: gpt-4o {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] === USER ACTION: Image Analysis Completed === {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Total processing time: 8152ms {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Mode: "MemeGeneration" {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.510 -05:00] [INF] Meme caption: WHEN YOU REALIZE IT'S MONDAY
BUT YOUR SUIT SAYS FRIDAY {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.511 -05:00] [INF] Tags found: 26 {"ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:50.511 -05:00] [INF] Image analysis completed in 8152ms for user anonymous (Mode: "MemeGeneration") {"SourceContext":"Server.Controllers.ImageAnalysisController","ActionId":"b96dfac7-0d88-4bcd-9965-0d7eaa77b21c","ActionName":"Server.Controllers.ImageAnalysisController.AnalyzeImage (Server)","RequestId":"0HNH9UI899QSH:00000035","RequestPath":"/api/ImageAnalysis/analyze","ConnectionId":"0HNH9UI899QSH","Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:31:52.522 -05:00] [INF] [CLIENT] Debug log flush: 2 console logs, 1 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"38ec4ec4-c1ae-4503-a871-9711ff2de025","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QSH:00000036","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QSH","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:31:52.5070000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
[2025-11-22 13:35:50.754 -05:00] [INF] [CLIENT] Debug log flush: 0 console logs, 2 network logs {"SourceContext":"Server.Controllers.LogController","ActionId":"e3921516-955b-4a52-a6c6-83a927d8fe0d","ActionName":"Server.Controllers.LogController.LogClientMessage (Server)","RequestId":"0HNH9UI899QSK:00000001","RequestPath":"/api/log/client","ConnectionId":"0HNH9UI899QSK","ClientProperties":{"Source":"Client","ClientTimestamp":"2025-11-22T18:35:50.7270000Z","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0","ClientUrl":"http://localhost:5000/","SessionId":"session-1763823855161-2opndqj9z","Client_debugData":{"ValueKind":"String","$type":"JsonElement"}},"ClientLog":true,"Application":"ImageGc","Environment":"Development","MachineName":"SURFACE1125"}
