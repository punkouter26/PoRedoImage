graph TD
    %% Component Hierarchy Diagram
    %% Tree-like view of how Blazor components are nested within the application
    
    subgraph "Application Root"
        App["`**App.razor**
        *Root Component*
        Router & Authentication`"]
    end
    
    subgraph "Layout Components"
        MainLayout["`**MainLayout.razor**
        *Master Layout*
        Sidebar + Main Content`"]
        
        NavMenu["`**NavMenu.razor**
        *Navigation Component*
        Menu Items & Toggle`"]
    end
    
    subgraph "Page Components"
        Home["`**Home.razor** (/)
        *Main Page*
        Image Upload & Analysis`"]
        
        Diag["`**Diag.razor** (/diag)
        *Diagnostics Page*
        System Health Checks`"]
    end
    
    subgraph "Home Page Elements"
        FileUpload["`**InputFile Component**
        *File Selection*
        Image Upload Control`"]
        
        ImagePreview["`**Image Preview**
        *Display Component*
        Selected Image Display`"]
        
        ConfigForm["`**Configuration Form**
        *Settings Panel*
        Description Length`"]
        
        LoadingSpinner["`**Loading Indicator**
        *Progress Component*
        Processing Animation`"]
        
        ResultsDisplay["`**Results Panel**
        *Output Component*
        Analysis Results`"]
        
        subgraph "Results Sub-Components"
            DescriptionCard["`**Description Card**
            *Text Display*
            Enhanced Description`"]
            
            TagsDisplay["`**Tags Display**
            *Badge List*
            Identified Tags`"]
            
            MetricsCard["`**Metrics Card**
            *Performance Data*
            Processing Statistics`"]
            
            GeneratedImage["`**Generated Image**
            *Image Display*
            AI-Generated Result`"]
        end
    end
    
    subgraph "Diagnostic Page Elements"
        HealthChecks["`**Health Check Panel**
        *Status Grid*
        System Component Status`"]
        
        ConnectionTests["`**Connection Tests**
        *Test Results*
        Azure Service Connectivity`"]
        
        LogDisplay["`**Log Display**
        *Text Area*
        Recent Application Logs`"]
    end
    
    subgraph "Services (Injected)"
        ApiService["`**ApiService**
        *HTTP Client Service*
        Backend Communication`"]
        
        JSRuntime["`**IJSRuntime**
        *JavaScript Interop*
        Browser APIs`"]
        
        NavigationManager["`**NavigationManager**
        *Routing Service*
        Page Navigation`"]
        
        Logger["`**ILogger**
        *Logging Service*
        Application Logging`"]
    end
    
    %% Component Hierarchy
    App --> MainLayout
    MainLayout --> NavMenu
    MainLayout --> Home
    MainLayout --> Diag
    
    %% Home Page Composition
    Home --> FileUpload
    Home --> ImagePreview
    Home --> ConfigForm
    Home --> LoadingSpinner
    Home --> ResultsDisplay
    
    ResultsDisplay --> DescriptionCard
    ResultsDisplay --> TagsDisplay
    ResultsDisplay --> MetricsCard
    ResultsDisplay --> GeneratedImage
    
    %% Diagnostic Page Composition
    Diag --> HealthChecks
    Diag --> ConnectionTests
    Diag --> LogDisplay
    
    %% Service Dependencies
    Home -.-> ApiService
    Home -.-> JSRuntime
    Home -.-> NavigationManager
    Home -.-> Logger
    
    Diag -.-> ApiService
    Diag -.-> Logger
    
    %% Styling
    classDef rootComponent fill:#e8f5e8,stroke:#4caf50,stroke-width:3px
    classDef layoutComponent fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef pageComponent fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef uiElement fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px
    classDef serviceComponent fill:#ffebee,stroke:#d32f2f,stroke-width:1px,stroke-dasharray: 5 5
    
    class App rootComponent
    class MainLayout,NavMenu layoutComponent
    class Home,Diag pageComponent
    class FileUpload,ImagePreview,ConfigForm,LoadingSpinner,ResultsDisplay,DescriptionCard,TagsDisplay,MetricsCard,GeneratedImage,HealthChecks,ConnectionTests,LogDisplay uiElement
    class ApiService,JSRuntime,NavigationManager,Logger serviceComponent
